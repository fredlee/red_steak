
// {#<RedSteak::Statemachine [:test]>
digraph x1 {
  label="test"; 
  node [ shape="circle", label="", style=filled, fillcolor=black ] x1_START; 

// #<RedSteak::State [:a]>
  node [ shape="box", label="a", style="filled,rounded", color=black, fillcolor=grey, fontcolor=black ] x2;

// #<RedSteak::State [:b]>
  node [ shape="box", label="b", style="filled,rounded", color=black, fillcolor=white, fontcolor=black ] x3;

// #<RedSteak::State [:c]>
  node [ shape="box", label="c", style="filled,rounded", color=black, fillcolor=white, fontcolor=black ] x4;

// #<RedSteak::State [:end]>
  node [ shape="doublecircle", label="end", style="filled,rounded", color=black, fillcolor=grey, fontcolor=black ] x5;

// #<RedSteak::State [:d]>

// {#<RedSteak::Statemachine [:test, :d, :d]>
subgraph cluster_x6 {
  label="d"; 
  shape="box"; 
  style="filled,rounded"; 
  fillcolor="white"; 
  fontcolor="black"; 
  node [ shape="circle", label="", style=filled, fillcolor=black ] x6_START; 

// #<RedSteak::State [:d, :d1]>
  node [ shape="box", label="d1", style="filled,rounded", color=black, fillcolor=grey, fontcolor=black ] x7;

// #<RedSteak::State [:d, :d2]>
  node [ shape="box", label="d2", style="filled,rounded", color=black, fillcolor=grey, fontcolor=black ] x8;

// #<RedSteak::State [:d, :end]>
  node [ shape="doublecircle", label="end", style="filled,rounded", color=black, fillcolor=grey, fontcolor=black ] x9;

// #<RedSteak::State [:d, :d3]>
  node [ shape="box", label="d3", style="filled,rounded", color=black, fillcolor=white, fontcolor=black ] x10;
}
// } #<RedSteak::Statemachine [:test, :d, :d]>

// #<RedSteak::Transition :foo :a -> :a>
x2 -> x2 [ label="foo", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :bar :a -> :a>
x2 -> x2 [ label="bar", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :a_to_b :a -> :b>
x2 -> x3 [ label="a_to_b", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :"b->c" :b -> :c>
x3 -> x4 [ label="b->c", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :c2 :b -> :c>
x3 -> x4 [ label="c2", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :"c->a" :c -> :a>
x4 -> x2 [ label="c->a", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :"c->end" :c -> :end>
x4 -> x5 [ label="c->end", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :"a->d" :a -> :d>
x2 -> x6_START [ label="(1) a->d", color=black, fontcolor=black ];

// #<RedSteak::Transition :"d->end" :d -> :end>
x6_START -> x5 [ label="(5) d->end", color=black, fontcolor=black ];
x1_START -> x2;

// #<RedSteak::Transition :"d1->d2" :d1 -> :d2>
x7 -> x8 [ label="(2) d1->d2", color=black, fontcolor=black ];

// #<RedSteak::Transition :"d1->end" :d1 -> :end>
x7 -> x9 [ label="(4) d1->end", color=black, fontcolor=black ];

// #<RedSteak::Transition :"d2->d1" :d2 -> :d1>
x8 -> x7 [ label="(3) d2->d1", color=black, fontcolor=black ];

// #<RedSteak::Transition :"d2->end" :d2 -> :end>
x8 -> x9 [ label="d2->end", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :"d3->d1" :d3 -> :d1>
x10 -> x7 [ label="d3->d1", color=gray, fontcolor=gray ];

// #<RedSteak::Transition :"d2->d3" :d2 -> :d3>
x8 -> x10 [ label="d2->d3", color=gray, fontcolor=gray ];
x6_START -> x7;
}
// } #<RedSteak::Statemachine [:test]>
